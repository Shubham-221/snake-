<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"/><title>Snake</title><style>html,body{height:100%;margin:0;background:#090f1e;color:#e6e6e6;font-family:Consolas,Menlo,monospace}.wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:16px}.frame{background:#0a0f1e;border:1px solid #1d2b4f;border-radius:12px;padding:12px;width:min(92vw,680px)}canvas{display:block;width:100%;height:auto;background:#0b132b;border-radius:10px;border:1px solid #1b2544}.top{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-bottom:6px;flex-wrap:wrap}.btn{background:#132144;border:1px solid #243462;color:#e6e6e6;padding:8px 12px;border-radius:10px}</style></head><body><div class="wrap"><div class="frame"><div class="top"><div><strong>Snake</strong></div><div><button class="btn" id="start">Start</button><button class="btn" id="pause">Pause</button><button class="btn" id="restart">Restart</button></div></div><canvas id="game" width="600" height="600"></canvas></div></div><script>
(()=>{'use strict';const W=600,H=600,C=30,R=30,S=W/C;const c=document.getElementById('game');const x=c.getContext('2d');const dpr=Math.max(1,Math.min(2,window.devicePixelRatio||1));function res(){c.width=W*dpr;c.height=H*dpr;c.style.width='100%';c.style.height='auto';x.setTransform(dpr,0,0,dpr,0,0);}res();addEventListener('resize',res);const eq=(a,b)=>a.x===b.x&&a.y===b.y;const ri=(m,M)=>Math.floor(Math.random()*(M-m+1))+m;function foodPos(s){let p;do{p={x:ri(0,C-1),y:ri(0,R-1)}}while(s.some(q=>eq(q,p)));return p;}const st={run:false,pause:false,wrap:true,dir:{x:1,y:0},next:{x:1,y:0},snake:[],food:null,score:0,tick:100,acc:0};function init(){st.snake=[{x:Math.floor(C/2)-1,y:Math.floor(R/2)},{x:Math.floor(C/2),y:Math.floor(R/2)}];st.dir={x:1,y:0};st.next={x:1,y:0};st.food=foodPos(st.snake);st.score=0;st.acc=0;st.pause=false;st.run=false;}function start(){if(!st.run)st.run=true;}function pause(){if(st.run)st.pause=!st.pause;}function restart(){init();st.run=true;}init();document.getElementById('start').onclick=start;document.getElementById('pause').onclick=pause;document.getElementById('restart').onclick=restart;addEventListener('keydown',e=>{const k=e.code;if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight','Space'].includes(k))e.preventDefault();if(k==='Enter')start();if(k==='KeyP')pause();if(k==='KeyR')restart();let nd=st.next;if(k==='ArrowUp'||k==='KeyW')nd={x:0,y:-1};if(k==='ArrowDown'||k==='KeyS')nd={x:0,y:1};if(k==='ArrowLeft'||k==='KeyA')nd={x:-1,y:0};if(k==='ArrowRight'||k==='KeyD')nd={x:1,y:0};if(nd&&(nd.x!==-st.dir.x||nd.y!==-st.dir.y))st.next=nd;});let last=performance.now();function loop(now){const dt=now-last;last=now;st.acc+=dt;while(st.acc>=st.tick){tick();st.acc-=st.tick;}draw();requestAnimationFrame(loop);}requestAnimationFrame(loop);const wc=(v,m)=>(v+m)%m;function tick(){if(!st.run||st.pause)return;st.dir=st.next;const h=st.snake[st.snake.length-1];let nx=h.x+st.dir.x,ny=h.y+st.dir.y;if(st.wrap){nx=wc(nx,C);ny=wc(ny,R);}else{if(nx<0||ny<0||nx>=C||ny>=R)return over();}const nh={x:nx,y:ny};if(st.snake.some(s=>eq(s,nh)))return over();st.snake.push(nh);if(eq(nh,st.food)){st.score++;st.food=foodPos(st.snake);if(st.score%5===0)st.tick=Math.max(40,Math.round(st.tick*0.92));}else st.snake.shift();}function over(){st.run=false;st.pause=false;}function rc(cx,cy,r){const x0=cx*S,y0=cy*S,w=S-2,h=S-2;x.beginPath();x.moveTo(x0+r+1,y0+1);x.lineTo(x0+w-r+1,y0+1);x.quadraticCurveTo(x0+w+1,y0+1,x0+w+1,y0+r+1);x.lineTo(x0+w+1,y0+h-r+1);x.quadraticCurveTo(x0+w+1,y0+h+1,x0+w-r+1,y0+h+1);x.lineTo(x0+r+1,y0+h+1);x.quadraticCurveTo(x0+1,y0+h+1,x0+1,y0+h-r+1);x.lineTo(x0+1,y0+r+1);x.quadraticCurveTo(x0+1,y0+1,x0+r+1,y0+1);x.fill();}function draw(){x.fillStyle='#0b1638';x.fillRect(0,0,W,H);x.strokeStyle='#1b2540';x.lineWidth=1;x.beginPath();for(let i=0;i<=C;i++){const px=i*S+0.5;x.moveTo(px,0);x.lineTo(px,H);}for(let j=0;j<=R;j++){const py=j*S+0.5;x.moveTo(0,py);x.lineTo(W,py);}x.stroke();x.fillStyle='#fca5a5';rc(st.food.x,st.food.y,5);const bc='#67e8f9',hc='#22d3ee';st.snake.forEach((s,i)=>{x.fillStyle=i===st.snake.length-1?hc:bc;rc(s.x,s.y,6);});x.fillStyle='#e6e6e6';x.font='16px Consolas, monospace';x.fillText('Score: '+st.score,10,20);if(!st.run){x.textAlign='center';x.textBaseline='middle';x.fillText('S N A K E',W/2,H/2-10);x.fillText('Press Start',W/2,H/2+16);}};})();
</script></body></html>